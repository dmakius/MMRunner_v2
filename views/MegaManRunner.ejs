<html>
<head>
  <%- include('./partials/head'); %>
  <title>MegaMan Runner</title>

  <% if(mobile){ %>
    <meta name="viewport" content="user-scalable=no,target-densitydpi=device-dpi" />
  <% } %>

  <!-- JQUERY -->
  <script
  src="https://code.jquery.com/jquery-3.6.1.js"
  integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
  crossorigin="anonymous"></script>

  <!-- Game Scripts -->
  <script src="public/MegaManRunner/src/js/phaser.min.js"></script>
  <script src="public/MegaManRunner/src/js/BootState.js"></script>
  <script src="public/MegaManRunner/src/js/PreloadState.js"></script>
  <script src="public/MegaManRunner/src/js/Gamestate.js"></script>
  <script src="public/MegaManRunner/src/js/MenuState.js"></script>
  <script src="public/MegaManRunner/src/js/InputScore.js"></script>
  <script src="public/MegaManRunner/src/js/LeaderBoard.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/Megaman.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/Platform.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/Platform2.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/Bullet.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/BadGuy.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/BadGuy2.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/Explosion.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/SmallHealthUp.js"></script>
  <script src="public/MegaManRunner/src/js/prefabs/LargeHealthUp.js"></script>
  
</head>
<body style="width:100%">
  <%- include('./partials/header'); %>
  <%- include('./partials/flashmessages'); %>
  <div class="container">
    <div class="row">
      <br>

      <script>
        
        var MMRunner = MMRunner || {};
        MMRunner.game = new Phaser.Game(700, 500, Phaser.AUTO, 'MMRunner');
        MMRunner.game.state.add('BootState', MMRunner.BootState);
        MMRunner.game.state.add('PreloadState', MMRunner.PreloadState);
				MMRunner.game.state.add('MenuState', MMRunner.MenuState);
        MMRunner.game.state.add('GameState', MMRunner.GameState);
        MMRunner.game.state.add('LeaderBoardState', MMRunner.LeaderBoard);
        MMRunner.game.state.add('InputScoreState', MMRunner.InputScoreState);

        MMRunner.game.state.start('BootState');

        var pause = false, startGame = false, movingRight = false, movingLeft = false;
	      var playerJump = false, alreadDead = false; var globalScore = 0; var mobileGame = false;
      </script>
    </div>

    <% if(mobile){ %>
      
      <%- include('./partials/score_modal'); %>
      <%- include('./partials/controller'); %>
      
      <link rel="stylesheet" href="public/css/mobile-styles.css">
      <link rel="stylesheet" href="public/css/controller.css">
      <script> mobileGame = true; </script>
   <% } %>

  </div>
</body>
</html>
